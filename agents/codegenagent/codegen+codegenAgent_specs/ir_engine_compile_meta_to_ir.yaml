# =====================================
# L9 CodeGen Spec: Meta Compiler Script
# =====================================

filename: ir_engine/compile_meta_to_ir.py
type: codegen_tool
language: python

description: |
  CLI-compatible utility that parses meta.yaml files and converts them into MetaContract IRs.
  Optionally emits meta-gaps.yaml if required fields or docs are missing.

wiring:
  inputs:
    - meta.yaml
  outputs:
    - MetaContract object (parsed IR)
    - meta-gaps.yaml
  dependencies:
    - PyYAML
    - MetaContract class from meta_ir.py

code: |
  import yaml
  from ir_engine.meta_ir import MetaContract

  def compile_meta(path="meta.yaml") -> MetaContract:
      with open(path, "r") as f:
          raw = yaml.safe_load(f)
      return MetaContract(**raw)

  if __name__ == "__main__":
      import sys, json
      obj = compile_meta(sys.argv[1] if len(sys.argv) > 1 else "meta.yaml")
      print(json.dumps(obj.dict(), indent=2))
# ============================================================================
# L9 DORA BLOCK - AUTO-GENERATED - DO NOT EDIT
# ============================================================================
l9_dora:
  component_id: "AGE-INTE-039"
  component_name: "Ir Engine Compile Meta To Ir"
  module_version: "1.0.0"
  created_at: "2026-01-08T03:17:26Z"
  created_by: "L9_DORA_Injector"
  layer: "intelligence"
  domain: "agent_execution"
  type: "config"
  status: "active"
  governance_level: "critical"
  compliance_required: true
  audit_trail: true
  purpose: "Configuration file for ir engine compile meta to ir"
  dependencies: []
# ============================================================================
# END L9 DORA BLOCK
# ============================================================================
