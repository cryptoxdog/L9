# ============================
# Orchestration Engine Syncer
# ============================

filename: orchestration/orchestrator_sync.py
type: orchestrator_module
language: python

description: |
  Reconciles orchestrator definitions with:
  - Active LangGraph DAGs
  - Meta-contract changes
  - Runtime patch applications

wiring:
  watches:
    - orchestration/dags/*
    - agents/**/meta.yaml
  emits:
    - orchestrator_diff.yaml
    - sync_report.json
  # === PATCH: memory_diff_sync integration ===
  memory_diff_sync:
    reads:
      - orchestrator_registry.yaml
      - agents/**/meta.yaml
    computes:
      - memory_state_hash
      - orchestrator_state_hash
    emits:
      - memory_diff_report.yaml

code: |
  def sync_orchestrators():
      from utils.diff import compare_yaml_files
      dags = load_dags_from("orchestration/dags/")
      metas = load_meta_contracts("agents/**/meta.yaml")
      return compare_yaml_files(dags, metas)
# ============================================================================
# L9 DORA BLOCK - AUTO-GENERATED - DO NOT EDIT
# ============================================================================
l9_dora:
  component_id: "AGE-INTE-049"
  component_name: "Orchestration Orchestrator Sync"
  module_version: "1.0.0"
  created_at: "2026-01-08T03:17:26Z"
  created_by: "L9_DORA_Injector"
  layer: "intelligence"
  domain: "agent_execution"
  type: "config"
  status: "active"
  governance_level: "critical"
  compliance_required: true
  audit_trail: true
  purpose: "Configuration file for orchestration orchestrator sync"
  dependencies: []
# ============================================================================
# END L9 DORA BLOCK
# ============================================================================
