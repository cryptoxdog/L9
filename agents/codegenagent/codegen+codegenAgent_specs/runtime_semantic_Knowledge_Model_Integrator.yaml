# ============================================================
# Knowledge_Model_Integrator.py
# ============================================================

filename: runtime/semantic/Knowledge_Model_Integrator.py
type: reasoning_connector
language: python
description: |
  Links CGA-generated agents and modules to L9's WorldModel.
  Maps schemas, tasks, and outputs into causal chains and reasoning lattices.

wiring:
  inputs:
    - path: schemas/**/*.yaml
    - path: worldmodel/current.json
  outputs:
    - path: worldmodel/integrated_tasks.json
    - path: audit/semantic_graph.gml
  triggers:
    - new_module_deployed
    - orchestrator_recompiled

code: |
  import yaml, json
  from utils.semantic_graph import integrate_schema_into_worldmodel

  def integrate():
      with open('worldmodel/current.json') as f:
          wm = json.load(f)
      schemas = []
      for folder in ['schemas/agents/', 'schemas/modules/']:
          for file in os.listdir(folder):
              with open(f"{folder}{file}") as f:
                  schemas.append(yaml.safe_load(f))
      integrated = integrate_schema_into_worldmodel(schemas, wm)
      with open('worldmodel/integrated_tasks.json', 'w') as f:
          json.dump(integrated, f)
      with open('audit/semantic_graph.gml', 'w') as f:
          f.write("# Generated semantic task graph")

  if __name__ == "__main__":
      integrate()
# ============================================================================
# L9 DORA BLOCK - AUTO-GENERATED - DO NOT EDIT
# ============================================================================
l9_dora:
  component_id: "AGE-INTE-067"
  component_name: "Runtime Semantic Knowledge Model Integrator"
  module_version: "1.0.0"
  created_at: "2026-01-08T03:17:26Z"
  created_by: "L9_DORA_Injector"
  layer: "intelligence"
  domain: "agent_execution"
  type: "config"
  status: "active"
  governance_level: "critical"
  compliance_required: true
  audit_trail: true
  purpose: "Configuration file for runtime semantic Knowledge Model Integrator"
  dependencies: []
# ============================================================================
# END L9 DORA BLOCK
# ============================================================================
