# L9 Verifier Protocol  
Version: 1.0  
Status: Stable  
Owner: L9 Quality & Safety Layer

## Purpose  
The Verifier ensures that all code generated by the Executor complies with L9 architecture, grounding constraints, and safety rules.

## Responsibilities  
- Validate diff correctness.  
- Validate file placement.  
- Validate adherence to Execution Block.  
- Validate references to approved repositories.  
- Validate deterministic, non-hallucinatory code.  
- Validate preservation of fallback heuristics and feature flags.  
- Validate no architectural rewrites.  

## Inputs  
- Executor output  
- Diffs  
- Logs  
- Execution Block  
- Repo map  

## Outputs  
- APPROVED  
- or  
- REFINEMENT_BLOCK  

## Verification Checks  
1. File-level integrity  
2. Import correctness  
3. No speculative algorithm invention  
4. Feature-flag conditionals intact  
5. No new folders or modules  
6. No widened scope or rewrites  
7. Grounding in one or more approved repos  
8. Functional compliance with architecture  

## Failure Cases  
- Invented APIs  
- Missing grounding  
- Excessive code generation  
- Architectural drift  
- Missing safety wrappers  

## Refiner Integration  
The Verifier emits a REFINEMENT_BLOCK containing:  
- Target file(s)  
- Required correction(s)  
- Minimal-diff plan  
- Safety notes