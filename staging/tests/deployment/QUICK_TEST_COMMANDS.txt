# Quick Test Commands - Copy and paste these on your server

# ============================================================================
# Option 1: Run the full test script
# ============================================================================
cd /opt/l9/deploy/L9_TRAEFIK_DEPLOYMENT_WITH_API_KEY
bash TEST_DEPLOYMENT.sh

# ============================================================================
# Option 2: Quick manual tests (one-liners)
# ============================================================================

# Check container status
docker-compose ps || docker compose ps

# Check environment variables
docker exec l9-runtime env | grep SUPABASE

# Test internal health endpoint
docker exec l9-runtime curl -s http://localhost:8000/health

# Test external endpoint (via Traefik)
curl -i -H "X-API-Key: ${API_KEY}" https://${DOMAIN}/health

# Check logs
docker-compose logs --tail=20 l9-runtime || docker compose logs --tail=20 l9-runtime
docker-compose logs --tail=20 traefik || docker compose logs --tail=20 traefik

# ============================================================================
# Option 3: Single comprehensive test command
# ============================================================================
cd /opt/l9/deploy/L9_TRAEFIK_DEPLOYMENT_WITH_API_KEY && \
echo "=== Container Status ===" && \
(docker-compose ps || docker compose ps) && \
echo "" && \
echo "=== Environment Variables ===" && \
docker exec l9-runtime env | grep -E "(SUPABASE|REDIS|API)" | sort && \
echo "" && \
echo "=== Internal Health Check ===" && \
docker exec l9-runtime curl -s http://localhost:8000/health && \
echo "" && \
echo "=== External Health Check ===" && \
curl -s -H "X-API-Key: ${API_KEY}" https://${DOMAIN}/health

